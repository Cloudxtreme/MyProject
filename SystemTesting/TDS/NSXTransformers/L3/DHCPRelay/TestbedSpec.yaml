DHCPRelayEsx2VM1DHCPServer: &DHCPRelay_ESX_TOPOLOGY_01
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'

DHCPRelayESX3VM3DHCPServers: &DHCPRelay_ESX_TOPOLOGY_02
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'

DHCPRelayESX3VM1DHCPServer: &DHCPRelay_ESX_TOPOLOGY_03
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'

DHCPRelayESX3VM4DHCPServers: &DHCPRelay_ESX_TOPOLOGY_04
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'

DHCPRelayEsx2VM1DHCPServer1Edge: &DHCPRelay_ESX_TOPOLOGY_05
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'
    nsxedge:
        '[1]':
           ip: none

DHCPRelayESX3VM3DHCPServers1Edge: &DHCPRelay_ESX_TOPOLOGY_06
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'
    nsxedge:
        '[1]':
           ip: none

DHCPRelayESX3VM1DHCPServer1Edge: &DHCPRelay_ESX_TOPOLOGY_07
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'
    nsxedge:
        '[1]':
           ip: none

DHCPRelayESX3VM4DHCPServers1Edge: &DHCPRelay_ESX_TOPOLOGY_08
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[1]'
        '[3]':
            host: 'esx.[2]'
    dhcpserver:
      '[1-2]':
            host: 'esx.[3]'
      '[3]':
            host: 'esx.[4]'
      '[4]':
            host: 'esx.[4]'
    nsxedge:
        '[1]':
           ip: none

DHCPRelay5ESX10VM1DHCPServer: &DHCPRelay_ESX_STRESS_TOPOLOGY_01
    esx:
            '[1-5]':
               configure_package:
                   execution_type: 'cli'
                   operation: install
                   maintenance: 1
                   signaturecheck: 0
            '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-4]':
            host: 'esx.[x:vdnetmod:5]'
        '[5]':
            host: 'esx.[5]'
        '[6-9]':
            host: 'esx.[x:vdnetmod:5]'
        '[10]':
            host: 'esx.[5]'
    dhcpserver:
      '[1]':
            host: 'esx.[2]'
            datastoreType: 'shared'

DHCPRelay5ESX2VM8DHCPServer: &DHCPRelay_ESX_STRESS_TOPOLOGY_02
    esx:
            '[1-5]':
               configure_package:
                   execution_type: 'cli'
                   operation: install
                   maintenance: 1
                   signaturecheck: 0
            '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'esx.[5]'
    dhcpserver:
      '[1-4]':
            host: 'esx.[x:vdnetmod:5]'
            datastoreType: 'shared'
      '[5]':
            host: 'esx.[4]'
            datastoreType: 'shared'
      '[6-8]':
            host: 'esx.[x:vdnetmod:5]'
            datastoreType: 'shared'

DHCPRelayKVM2VM1DHCPServer: &DHCPRelay_KVM_TOPOLOGY_01
    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed
    esx:
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'kvm.[3]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone
      '[3-4]':
            host: 'kvm.[4]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone

DHCPRelayKVM3VM3DHCPServers: &DHCPRelay_KVM_TOPOLOGY_02
    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none
    esx:
        '[100]': {}
    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'kvm.[3]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone
      '[3-4]':
            host: 'kvm.[4]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone

DHCPRelayKVM3VM1DHCPServer: &DHCPRelay_KVM_TOPOLOGY_03
    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}
    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'kvm.[3]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone
      '[3-4]':
            host: 'kvm.[4]'
            template: template_kvm_debian
            vmstate: poweroff
            installtype: fullclone

DHCPRelayESXKVM2VM1DHCPServer1Edge: &DHCPRelay_KVM_TOPOLOGY_04
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'esx.[1]'
            datastoreType: 'shared'
      '[3-4]':
            host: 'esx.[2]'
            datastoreType: 'shared'
    nsxedge:
        '[1]':
           ip: none

DHCPRelayESXKVM3VM3DHCPServers1Edge: &DHCPRelay_KVM_TOPOLOGY_05
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'esx.[1]'
            datastoreType: 'shared'
      '[3-4]':
            host: 'esx.[2]'
            datastoreType: 'shared'
    nsxedge:
        '[1]':
           ip: none

DHCPRelayESXKVM3VM1DHCPServer1Edge: &DHCPRelay_KVM_TOPOLOGY_06
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'esx.[1]'
            datastoreType: 'shared'
      '[3-4]':
            host: 'esx.[2]'
            datastoreType: 'shared'
    nsxedge:
        '[1]':
           ip: none
DHCPRelayESXKVM3VM4DHCPServers1Edge: &DHCPRelay_KVM_TOPOLOGY_07
    esx:
        '[1-4]':
            configure_package:
               execution_type: 'cli'
               operation: install
               maintenance: 1
               signaturecheck: 0
        '[100]': {}

    kvm:
            '[1-4]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1-2]':
            host: 'esx.[1]'
            datastoreType: 'shared'
      '[3-4]':
            host: 'esx.[2]'
            datastoreType: 'shared'
    nsxedge:
        '[1]':
           ip: none

DHCPRelay5KVM10VM1DHCPServer: &DHCPRelay_KVM_STRESS_TOPOLOGY_01
    kvm:
            '[1-5]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed
    esx:
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3-4]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[5-6]':
            host: 'kvm.[3]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[7-8]':
            host: 'kvm.[4]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[9-10]':
            host: 'kvm.[5]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
      '[1]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone

DHCPRelay5KVM2VM8DHCPServer: &DHCPRelay_KVM_STRESS_TOPOLOGY_02
    kvm:
            '[1-5]':
                pif:
                 '[1]':
                    persist_configuration:
                        bootproto: "dhcp"
                        onboot: "yes"
                framework_setup:
                    - disablefirewall
                    - createanchor
                    - copysshkey
                configure_package:
                   execution_type: 'cmd'
                   operation: install
                bridge:
                    '[1]':
                        name: nsxvswitch
                        switch_fail_mode: secure
                        # XXX(salmanm): The product expects a hard coded bridge-id
                        # in external-ids column of the integration bridge to be
                        # set to "nsx-managed". Bugzilla #1314847.
                        external_id:
                          bridge-id: nsx-managed
    esx:
        '[100]': {}

    nsxmanager:
        '[1-3]':
            'ip': none

    nsxcontroller:
        '[1-3]':
            ip: none
    vm:
        '[1-2]':
            host: 'kvm.[5]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
    dhcpserver:
        '[1-2]':
            host: 'kvm.[1]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[3-4]':
            host: 'kvm.[2]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[5-6]':
            host: 'kvm.[3]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
        '[7-8]':
            host: 'kvm.[4]'
            template: template_kvm_debian
            vmstate: poweron
            installtype: fullclone
