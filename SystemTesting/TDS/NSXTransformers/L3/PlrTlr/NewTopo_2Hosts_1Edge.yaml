{% include 'TDS/NSXTransformers/L3/PlrTlr/AutoGeneratedWorkloads.yaml' %}
########################################################################################################################
#   PlrTlr Topology with 2 HVs and 1 Edge                                                                              #
#                                                                                                                      #
#                                                    +---------------------+                                           #
#                                                    |   EDGE CLUSTER      |                                           #
#      +-VM1-+-LP11--LS1--LP1----LRP1-+              |                     |                                           #
#      |                              |              |                     |                                           #
#      |                              +-TLR2--LLRP2--|-LLRP1-+       NSXE1-|----------------------------+              #
#      |                              |              |       |         |   |                            |              #
#  HV2-+-VM2---LP12--LS2--LP2----LRP2-+              |       |       GWMC0 |                            |-HV1          #
#      |                                             |       |         |   |                            |              #
#      |                                             |       +-PLR1--ULRP1-|--LP100-LS100-LP110-+-VM100-+              #
#      |                                             |       |             |                                           #
#      +-VM3---LP13--LS3--LP3----LRP3-+              |       |             |                                           #
#                                     |              |       |             |                                           #
#                                     +-TLR3--LLRP4--|-LLRP3-+             |                                           #
#                                     |              |                     |                                           #
#  HV3---VM4-+-LP14--LS4--LP4----LRP4-+              |                     |                                           #
#                                                    |                     |                                           #
#                                                    +---------------------+                                           #
#                                                                                                                      #
########################################################################################################################

TopoPltTlr_2Hosts_1Edge: &TopoPlrTlr_2Hosts_1Edge
    <<: *AutoGeneratedWorkloads

    TrafficToTlrDR--ESX:
        # For ESX, TCP and UDP packets to TLR LIFs are silently discarded.
        - - TcpTrafficFailVM1Vnic1ToTlrDR
        - - UdpTrafficFailVM1Vnic1ToTlrDR
        - - IcmpTrafficVM1Vnic1ToTlrDR
    TrafficToTlrDR--KVM:
        # For KVM, TCP packets sent to TLR LIFs should get RST packet. UDP packets
        # sent to TLR LIFs should get ICMP port unreachable packets.
        - - TcpTrafficFailVM1Vif1ToTlrDR
        - - UdpTrafficFailVM1Vif1ToTlrDR
        - - IcmpTrafficVM1Vif1ToTlrDR

    TcpTrafficFailVM1Vnic1ToTlrDR: &TcpTrafficFailVM1Vnic1ToTlrDR
        Type: 'Traffic'
        ToolName: 'scapy'
        TestAdapter: 'vm.[1].vnic.[1]'
        Protocol: 'tcp'
        DestinationAddress: '100.64.1.1'
        pktcount: 5
        connectivitytest: '0'
        Verification  : 'VerifyNoPacketsAtVM1Vnic1FromTlrDR'
    TcpTrafficFailVM1Vif1ToTlrDR: &TcpTrafficFailVM1Vif1ToTlrDR
        <<: *TcpTrafficFailVM1Vnic1ToTlrDR
        TestAdapter: 'vm.[1].vif.[1]'
        Verification  : 'Verify5ResetPacketsAtVM1Vif1FromTlrDR'

    UdpTrafficFailVM1Vnic1ToTlrDR:
        <<: *TcpTrafficFailVM1Vnic1ToTlrDR
        Protocol: 'udp'
        Verification  : 'VerifyNoPacketsAtVM1Vnic1FromTlrDR'
    UdpTrafficFailVM1Vif1ToTlrDR:
        <<: *TcpTrafficFailVM1Vif1ToTlrDR
        Protocol: 'udp'
        Verification  : 'Verify5PortUnreachablePacketsAtVM1Vif1FromTlrDR'

    IcmpTrafficVM1Vnic1ToTlrDR:
        <<: *TcpTrafficFailVM1Vnic1ToTlrDR
        Protocol: 'icmp'
        Verification  : 'VerifyPacketsAtVM1Vnic1FromTlrDR'
    IcmpTrafficVM1Vif1ToTlrDR:
        <<: *TcpTrafficFailVM1Vif1ToTlrDR
        Protocol: 'icmp'
        Verification  : 'VerifyPacketsAtVM1Vif1FromTlrDR'

    VerifyNoPacketsAtVM1Vnic1FromTlrDR:
        'PktCapVerificaton': &VerifyNoPacketsAtVM1Vnic1FromTlrDR
            'verificationtype': 'pktcap'
            'target': 'vm.[1].vnic.[1]'
            'pktcapfilter': "count 5,src host ipv4/100.64.1.1,dst host ipv4/vm.[1].vnic.[1]"
            'pktcount': '0'

    Verify5ResetPacketsAtVM1Vif1FromTlrDR:
        'PktCapVerificaton':
            'verificationtype': 'pktcap'
            'target': 'vm.[1].vif.[1]'
            'pktcapfilter': "count 5,src host ipv4/100.64.1.1,dst host ipv4/vm.[1].vif.[1]"
            connectionRST: 5

    Verify5PortUnreachablePacketsAtVM1Vif1FromTlrDR:
        'PktCapVerificaton':
            'verificationtype': 'pktcap'
            'target': 'vm.[1].vif.[1]'
            'pktcapfilter': "count 5,icmptype == 3,icmpcode == 3,src host ipv4/100.64.1.1,dst host ipv4/vm.[1].vif.[1]"
            'pktcount': '5'

    VerifyPacketsAtVM1Vnic1FromTlrDR:
        'PktCapVerificaton':
            <<: *VerifyNoPacketsAtVM1Vnic1FromTlrDR
            'pktcount': '5'
    VerifyPacketsAtVM1Vif1FromTlrDR:
        'PktCapVerificaton':
            'verificationtype': 'pktcap'
            'target': 'vm.[1].vif.[1]'
            'pktcapfilter': "count 5,src host ipv4/100.64.1.1,dst host ipv4/vm.[1].vif.[1]"
            'pktcount': '5'

    CreateEdgeCluster:
        TestNSX: nsxmanager.[1]
        Type: NSX
        edgecluster:
            '[1]':
                fabric_profile_bindings:
                -   fabric_profile_id: nsxmanager.[1].fabricprofile.[1]
                    resource_type: FabricProfileClusterKeepAlive
                members:
                -   edge_node_id: nsxmanager.[1].edgenode.[1]
                name: Edge_Cluster_1
                summary: Edge Cluster created through automation
    EnableRouteAdvertisementOnLR-2:
        TestRouter: nsxmanager.[1].logicalrouter.[2]
        Type: Router
        routeadvertisements:
            '[1]':
                advertise_routes:
                -   name: Advertise routes 192.1.1.0,192.1.2.0
                    network:
                    - 192.1.1.0/24
                    - 192.1.2.0/24
                    summary: Advertise routes 192.1.1.0,192.1.2.0
                enableadvertisement: 'true'
    EnableRouteAdvertisementOnLR-3:
        TestRouter: nsxmanager.[1].logicalrouter.[3]
        Type: Router
        routeadvertisements:
            '[2]':
                advertise_routes:
                -   name: Advertise routes 192.2.1.0,192.2.2.0
                    network:
                    - 192.2.1.0/24
                    - 192.2.2.0/24
                    summary: Advertise routes 192.2.1.0,192.2.2.0
                enableadvertisement: 'true'
    AddStaticRouteOnLR-1_VM1Vnic2viaVM1Vnic1onLLRP1_VM4Vnic2viaVM4Vnic1onLLRP3:
        TestRouter: nsxmanager.[1].logicalrouter.[1]
        Type: Router
        lrstaticroutes:
            '[1]':
                staticroutes:
                -   lr_port_id: nsxmanager.[1].logicalrouterlinkport.[1]->id
                    name: static-route-to-vm1-vnic2
                    network: vm.[1].vnic.[2]->netcidr
                    next_hops:
                    - vm.[1].vnic.[1]->ip
                    summary: Static route for VM1Vnic2 using LLRP1
                # BUG1387952   lr_port_id: nsxmanager.[1].logicalrouterlinkport.[3]->id
                # BUG1387952    name: static-route-to-vm4-vnic2
                # BUG1387952    network: vm.[4].vnic.[2]->netcidr
                # BUG1387952    next_hops:
                # BUG1387952    - vm.[4].vnic.[1]->ip
                # BUG1387952    summary: Static route for VM4Vnic2 using LLRP3

    VerifyTunnelPortsStateOnKVM-2:
        Type: "Host"
        TestHost: "kvm.[2]"
        execution_type: 'cli'
        'get_tunnel_ports_remote_ip[?]contain_once':
            table:
                - remote_ip: "kvm.[3].vtep.[1]->ip_address"
                  forwarding_state: "true"
                - remote_ip: "esx.[1].vtep.[1]->adapter_ip"
                  forwarding_state: "true"

    VerifyTunnelPortsStateOnKVM-3:
        Type: "Host"
        TestHost: "kvm.[3]"
        execution_type: 'cli'
        'get_tunnel_ports_remote_ip[?]contain_once':
            table:
                - remote_ip: "kvm.[2].vtep.[1]->ip_address"
                  forwarding_state: "true"
                - remote_ip: "esx.[1].vtep.[1]->adapter_ip"
                  forwarding_state: "true"

    CreateDownLinkPortOnTLR1ForLS5:
        Type: 'NSX'
        TestNSX: 'nsxmanager.[1]'
        logicalrouterport:
            '[5]':
                logical_router_id: "nsxmanager.[1].logicalrouter.[2]"
                name: "tlr1-to-ls5"
                resource_type: 'LogicalRouterDownLinkPort'
                linked_switch_port_id: nsxmanager.[1].logicalport.[5]->id
                subnets:
                    - prefixlen: 24
                      ip_addresses:

                      - '30.1.1.1'

    DownESX-2_Vtep-1:
        Type: "NetAdapter"
        TestAdapter: "esx.[2].vtep.[1]"
        devicestatus: "DOWN"

    UpESX-2_Vtep-1:
        Type: "NetAdapter"
        TestAdapter: "esx.[2].vtep.[1]"
        devicestatus: "UP"

    DownESX-1_Vtep-1:
        Type: "NetAdapter"
        TestAdapter: "esx.[1].vtep.[1]"
        devicestatus: "DOWN"

    UpESX-1_Vtep-1:
        Type: "NetAdapter"
        TestAdapter: "esx.[1].vtep.[1]"
        devicestatus: "UP"

    VerifyTunnelPortsState--KVM:
    -   - VerifyTunnelPortsStateOnKVM-2
    -   - VerifyTunnelPortsStateOnKVM-3

    LogicalSetup:
    -   - CreateTZ-1
    -   - CreateUPROF-1_MTU-1600
    LogicalSwitchSetup:
    -   - CreateLS-1
        - CreateLS-2
        - CreateLS-3
        - CreateLS-4
    -   - CreateLS-100
    EdgeSetup--EDGEESX:
    -   - SetManagerOnESX-1
    -   - DiscoverHostNode1FromESX1
    -   - CreateTN-1_HOSTNODE-1_TZ-1_VMNIC-1
    -   - CreateFPROF-1
    -   - RegisterEdge-1
    -   - DiscoverEdgeNode-1_EDGE-1
    -   - CreateEdgeCluster
    -   - DiscoverESX1Vtep1FromDevice-vmk10
    TNSetup--ESX:
    -   - SetManagerOnESX-2
    -   - SetManagerOnESX-3
    -   - DiscoverHostNode2FromESX2
    -   - DiscoverHostNode3FromESX3
    -   - CreateTN-2_HOSTNODE-2_TZ-1_VMNIC-1
    -   - CreateTN-3_HOSTNODE-3_TZ-1_VMNIC-1
    -   - DiscoverESX2Vtep1FromDevice-vmk10
    -   - DiscoverESX3Vtep1FromDevice-vmk10
    VtepConnectivity--ESX--EDGEESX:
    -   - PingFromESX2Vtep1ToESX3Vtep1
    -   - PingFromESX1Vtep1ToESX2Vtep1
    -   - PingFromESX1Vtep1ToESX3Vtep1
    VtepConnectivity--KVM--EDGEESX:
    -   - PingFromKVM2Vtep1ToKVM3Vtep1
    -   - PingFromESX1Vtep1ToKVM2Vtep1
    -   - PingFromESX1Vtep1ToKVM3Vtep1
    TNSetup--KVM:
    -   - SetManagerOnKVM-2
    -   - SetManagerOnKVM-3
    -   - DiscoverHostNode2FromKVM2
    -   - DiscoverHostNode3FromKVM3
    -   - CreateTN-2_HOSTNODE-2_TZ-1_ETH-1
    -   - CreateTN-3_HOSTNODE-3_TZ-1_ETH-1
    -   - DiscoverKVM2Vtep1FromDevice-nsx-vtep0.0
    -   - DiscoverKVM3Vtep1FromDevice-nsx-vtep0.0
    VMSetup--ESX:
    -   - AddVM1Vnic1ToLS1
    -   - AddVM2Vnic1ToLS2
    -   - AddVM3Vnic1ToLS3
    -   - AddVM4Vnic1ToLS4
    -   - DiscoverLport11FromVM1Vnic1
        - DiscoverLport12FromVM2Vnic1
        - DiscoverLport13FromVM3Vnic1
        - DiscoverLport14FromVM4Vnic1
    VMIPConfig--ESX:
    -   - ConfigureVM1Vnic1IP-192.1.1.10
        - ConfigureVM2Vnic1IP-192.1.2.10
        - ConfigureVM3Vnic1IP-192.2.1.10
        - ConfigureVM4Vnic1IP-192.2.2.10
    VMSetup--KVM:
    -   - AddVM1Vif1ToKVM2Bridge1
    -   - AddVM2Vif1ToKVM2Bridge1
    -   - AddVM3Vif1ToKVM2Bridge1
    -   - AddVM4Vif1ToKVM3Bridge1
    -   - CreateLP11OnLS1ForVM1Vif1
        - CreateLP12OnLS2ForVM2Vif1
        - CreateLP13OnLS3ForVM3Vif1
        - CreateLP14OnLS4ForVM4Vif1
    VMIPConfig--KVM:
    -   - ConfigureVM1Vif1IP-192.1.1.10
        - ConfigureVM2Vif1IP-192.1.2.10
        - ConfigureVM3Vif1IP-192.2.1.10
        - ConfigureVM4Vif1IP-192.2.2.10
    UplinkVMSetup--EDGEESX:
    -   - AddVM100Vnic1ToLS100
    -   - DiscoverLport110FromVM100Vnic1
    UplinkVMIPConfig--EDGEESX:
    -   - ConfigureVM100Vnic1IP-192.200.1.10
    CreatePlrsTlrs:
    -   - CreatePLR-1_EDGECLUSTER-1
    -   - CreateLR-2_TIER-1
        - CreateLR-3_TIER-1
        - CreateLR-4_TIER-1
    PlrTlrLinkPortsSetup:
    -   - CreatePlrLLRP-1_PLR-1
    -   - CreateTlrLLRP-2_TLR-2_PLRP-1
    -   - CreatePlrLLRP-3_PLR-1
    -   - CreateTlrLLRP-4_TLR-3_PLRP-3
    PlrUplinkSetup:
    -   - CreateLSP-100_LS-100
    -   - CreateULRP-1_LSP-100_GWMC-0_IP-192.200.1.1
    TlrDownlinkSetup:
    -   - CreateLSP-1_LS-1
        - CreateLSP-2_LS-2
        - CreateLSP-3_LS-3
        - CreateLSP-4_LS-4
    -   - CreateLRP-1_LR-2_IP-192.1.1.1_LSP-1
    -   - CreateLRP-2_LR-2_IP-192.1.2.1_LSP-2
    -   - CreateLRP-3_LR-3_IP-192.2.1.1_LSP-3
    -   - CreateLRP-4_LR-3_IP-192.2.2.1_LSP-4
    -   - EnableRouteAdvertisementOnTlrs
    EnableRouteAdvertisementOnTlrs:
    -   - EnableRouteAdvertisementOnLR-2
        - EnableRouteAdvertisementOnLR-3
    AddStaticRoutesOnVMs--ESX:
    -   - Add192RouteOnVM1Vnic1viaLRP1
    -   - Add192RouteOnVM2Vnic1viaLRP2
    -   - Add192RouteOnVM3Vnic1viaLRP3
    -   - Add192RouteOnVM4Vnic1viaLRP4
    -   - Add100RouteOnVM1Vnic1viaLRP1
    -   - Add100RouteOnVM2Vnic1viaLRP2
    -   - Add100RouteOnVM3Vnic1viaLRP3
    -   - Add100RouteOnVM4Vnic1viaLRP4
    AddStaticRoutesOnVMs--KVM:
    -   - Add192RouteOnVM1Vif1viaLRP1
    -   - Add192RouteOnVM2Vif1viaLRP2
    -   - Add192RouteOnVM3Vif1viaLRP3
    -   - Add192RouteOnVM4Vif1viaLRP4
    -   - Add100RouteOnVM1Vif1viaLRP1
    -   - Add100RouteOnVM2Vif1viaLRP2
    -   - Add100RouteOnVM3Vif1viaLRP3
    -   - Add100RouteOnVM4Vif1viaLRP4
    AddStaticRoutesOnUplinkVMs--EDGEESX:
    -   - Add192RouteOnVM100Vnic1viaULRP1

    Traffic--ESX:
    -   - PlrTlrICMPTraffic--ESX
    -   - PlrTlrTCPTraffic--ESX
    -   - PlrTlrUDPTraffic--ESX
    Traffic--KVM:
    -   - PlrTlrICMPTraffic--KVM
    # XXX(dbadiani): Netperf traffic disable workaround start
    # # Ref. BZ: 1417298
    #-   - PlrTlrTCPTraffic--KVM
    #-   - PlrTlrUDPTraffic--KVM
    # XXX(dbadiani): Netperf traffic disable workaround ends.

    TlrTraffic--ESX:
    -   - PingFromVM1Vnic1ToVM2Vnic1
    -   - PingFromVM3Vnic1ToVM4Vnic1
    TlrTraffic--KVM:
    -   - PingFromVM1Vif1ToVM2Vif1
    -   - PingFromVM3Vif1ToVM4Vif1

    PlrTlrICMPTraffic--ESX:
    -   - PingFromVM1Vnic1ToVM2Vnic1
    -   - PingFromVM1Vnic1ToVM3Vnic1
    -   - PingFromVM1Vnic1ToVM100Vnic1
    -   - PingFromVM3Vnic1ToVM4Vnic1
    -   - PingFromVM3Vnic1ToVM100Vnic1
    PlrTlrICMPTraffic--KVM:
    -   - PingFromVM1Vif1ToVM2Vif1
    -   - PingFromVM1Vif1ToVM3Vif1
    -   - PingFromVM1Vif1ToVM100Vnic1
    -   - PingFromVM3Vif1ToVM4Vif1
    -   - PingFromVM3Vif1ToVM100Vnic1

    EWTraffic--ESX:
    -   - PingFromVM1Vnic1ToVM2Vnic1
    -   - PingFromVM1Vnic1ToVM3Vnic1
    -   - PingFromVM3Vnic1ToVM4Vnic1

    NSTrafficFail--ESX:
    -   - PingFailFromVM1Vnic1ToVM100Vnic1
    -   - PingFailFromVM3Vnic1ToVM100Vnic1
    -   - PingFailFromVM100Vnic1ToVM2Vnic1
    -   - PingFailFromVM100Vnic1ToVM4Vnic1

    PlrTlrTCPTraffic--ESX:
    -   - NetPerfTCPFromVM1Vnic1ToVM2Vnic1
    -   - NetPerfTCPFromVM1Vnic1ToVM3Vnic1
    -   - NetPerfTCPFromVM1Vnic1ToVM100Vnic1
    -   - NetPerfTCPFromVM3Vnic1ToVM4Vnic1
    -   - NetPerfTCPFromVM3Vnic1ToVM100Vnic1
    PlrTlrTCPTraffic--KVM:
    -   - NetPerfTCPFromVM1Vif1ToVM2Vif1
    -   - NetPerfTCPFromVM1Vif1ToVM3Vif1
    -   - NetPerfTCPFromVM1Vif1ToVM100Vif1
    -   - NetPerfTCPFromVM3Vif1ToVM4Vif1
    -   - NetPerfTCPFromVM3Vif1ToVM100Vif1

    PlrTlrUDPTraffic--ESX:
    -   - NetPerfUDPFromVM1Vnic1ToVM2Vnic1
    -   - NetPerfUDPFromVM1Vnic1ToVM3Vnic1
    -   - NetPerfUDPFromVM1Vnic1ToVM100Vnic1
    -   - NetPerfUDPFromVM3Vnic1ToVM4Vnic1
    -   - NetPerfUDPFromVM3Vnic1ToVM100Vnic1
    PlrTlrUDPTraffic--KVM:
    -   - NetPerfUDPFromVM1Vif1ToVM2Vif1
    -   - NetPerfUDPFromVM1Vif1ToVM3Vif1
    -   - NetPerfUDPFromVM1Vif1ToVM100Vif1
    -   - NetPerfUDPFromVM3Vif1ToVM4Vif1
    -   - NetPerfUDPFromVM3Vif1ToVM100Vif1


    DisableRouteAdvertisementOnTlrs:
    -   - DisableRouteAdvertisementOnLR-2
        - DisableRouteAdvertisementOnLR-3
    TlrDownlinkCleanup:
    -   - DisableRouteAdvertisementOnTlrs
    -   - DeleteLRP-1-4
    PlrUplinkCleanup:
    -   - DeleteULRP-1
    -   - DeleteLSP-100
    PlrTlrLinkPortsCleanup:
    -   - DeleteLLRP-1
    -   - DeleteLLRP-2
    -   - DeleteLLRP-3
    -   - DeleteLLRP-4
    DeletePlrTlrs:
    -   - DeleteLR-1
    -   - DeleteLR-2
        - DeleteLR-3
    UplinkVMCleanup--EDGEESX:
    -   - DeleteVnic-1_VM-100
    -   - UndiscoverLSP-110
    VMCleanup--ESX:
    -   - DeleteVnic-1_VM-1
        - DeleteVnic-1_VM-2
        - DeleteVnic-1_VM-3
        - DeleteVnic-1_VM-4
    -   - UndiscoverLSP-11
        - UndiscoverLSP-12
        - UndiscoverLSP-13
        - UndiscoverLSP-14
    VMCleanup--KVM:
    -   - DeleteVif-1_VM-1
        - DeleteVif-1_VM-2
        - DeleteVif-1_VM-3
        - DeleteVif-1_VM-4
    -   - DeleteLSP-11
        - DeleteLSP-12
        - DeleteLSP-13
        - DeleteLSP-14
    TNCleanup--ESX:
    -   - DeleteTN-2
        - DeleteTN-3
    -   - RemoveManagerOnESX-2
        - RemoveManagerOnESX-3
    -   - UndiscoverHostNode-2
        - UndiscoverHostNode-3
    TNCleanup--KVM:
    -   - DeleteTN-2
        - DeleteTN-3
    -   - RemoveManagerOnKVM-2
        - RemoveManagerOnKVM-3
    -   - UndiscoverHostNode-2
        - UndiscoverHostNode-3
    EdgeCleanup--EDGEESX:
    -   - DeleteEdgeCluster-1
    -   - DeleteEdgeNode-1
    -   - DeleteFPROF-1
    -   - DeleteTN-1
    -   - RemoveManagerOnESX-1
    -   - UndiscoverHostNode-1
    LogicalSwitchCleanup:
    -   - DeleteLSP-1-4
    -   - DeleteLS-1
        - DeleteLS-2
        - DeleteLS-3
        - DeleteLS-4
    -   - DeleteLS-100
    LogicalCleanup:
    -   - DeleteUPROF-1
    -   - DeleteTZ-1

    PlrTlrSetup--ESX:
    -   - LogicalSetup
    -   - LogicalSwitchSetup
    -   - EdgeSetup--EDGEESX
    -   - TNSetup--ESX
    -   - VtepConnectivity--ESX--EDGEESX
    -   - VMSetup--ESX
    -   - UplinkVMSetup--EDGEESX
    -   - CreatePlrsTlrs
    -   - TlrDownlinkSetup
    -   - PlrTlrLinkPortsSetup
    -   - PlrUplinkSetup
    -   - VMIPConfig--ESX
    -   - UplinkVMIPConfig--EDGEESX
    -   - AddStaticRoutesOnVMs--ESX
    -   - AddStaticRoutesOnUplinkVMs--EDGEESX
    PlrTlrSetup--KVM:
    -   - LogicalSetup
    -   - LogicalSwitchSetup
    -   - EdgeSetup--EDGEESX
    -   - TNSetup--KVM
    -   - VtepConnectivity--KVM--EDGEESX
    -   - VMSetup--KVM
    -   - UplinkVMSetup--EDGEESX
    -   - CreatePlrsTlrs
    -   - TlrDownlinkSetup
    -   - PlrTlrLinkPortsSetup
    -   - PlrUplinkSetup
    -   - VMIPConfig--KVM
    -   - UplinkVMIPConfig--EDGEESX
    -   - AddStaticRoutesOnVMs--KVM
    -   - AddStaticRoutesOnUplinkVMs--EDGEESX
    -   - VerifyTunnelPortsState--KVM

    PlrTlrCleanup--ESX:
    -   - TlrDownlinkCleanup
    -   - PlrUplinkCleanup
    -   - PlrTlrLinkPortsCleanup
    -   - DeletePlrTlrs
    -   - UplinkVMCleanup--EDGEESX
    -   - VMCleanup--ESX
    -   - TNCleanup--ESX
    -   - EdgeCleanup--EDGEESX
    -   - LogicalSwitchCleanup
    -   - LogicalCleanup
    PlrTlrCleanup--KVM:
    -   - TlrDownlinkCleanup
    -   - PlrUplinkCleanup
    -   - PlrTlrLinkPortsCleanup
    -   - DeletePlrTlrs
    -   - UplinkVMCleanup--EDGEESX
    -   - VMCleanup--KVM
    -   - TNCleanup--KVM
    -   - EdgeCleanup--EDGEESX
    -   - LogicalSwitchCleanup
    -   - LogicalCleanup

    # Additional Test Operations
    AddRouterLinkPortOnPLRtoTLR3:
        - - CreatePlrLLRP-5_PLR-1

    CreateLogicalSwitch5:
        - - CreateLS-5

    CreateDownLinkPortOnTLR3:
        - - CreateLRP-5_LR-4_IP-192.3.1.1_LSP-5

    CreateLogicalSwitchPort5:
        - - CreateLSP-5_LS-5

    CreateRouterLinkPortOnTLR3:
        - - CreateTlrLLRP-6_TLR-4_PLRP-5

    DeleteDownLinkPortOnTLR1ForLS5:
        - - DeleteLRP-5

    DeleteDownLinkPortOnTLR3:
        - - DeleteLRP-5

    DeleteRouterLinkPortOnPLRtoTLR3:
        - - DeleteLLRP-5

    DeleteRouterLinkPortOnTLR3:
        - - DeleteLLRP-6

    DeleteLogicalSwitch5:
        - - DeleteLS-5

    DeleteLogicalSwitch5Ports:
        - - DeleteLSP-5

    VifAttachmentVM5--ESX:
        - - AddVM5Vnic1ToLS5
        - - DiscoverLport5FromVM5Vnic1

    VifAttachmentVM5--KVM:
        - - AddVM5Vif1ToKVM3Bridge1
        - - CreateLP15OnLS5ForVM5Vif1
