#!/usr/bin/perl
########################################################################
# Copyright (C) 2010 VMWare, Inc.
# # All Rights Reserved
########################################################################
package TDS::EsxServer::NetIORM::NetIORMTds;

#
# This file contains the structured hash for NetIORM category,
# The following lines explain the keys of the internal
# hash in general.
#

use FindBin;
use lib "$FindBin::Bin/..";
use TDS::Main::VDNetMainTds;
use Data::Dumper;

@ISA = qw(TDS::Main::VDNetMainTds);

{
   # List of tests in this test category, refer the excel sheet TDS
   @TESTS = ("SystemPoolsCreation","VMResPoolsAddRemove","SystemPoolsDelete","VerifyStatReset",
             "SharesVerify","JF_TSO","MultipleVMRP","Shares_AddUplink","Shares_ThreePNICS","ManyWorkLoads",
             "Limits_Verify_AddUplink_ThreePNICs","UDP","SmallFrames","Both_Verify","Both_AddUplink","Both_ThreePNICs",
             "SuspendSnapResume","OptOut","MultipleInterfaceLBT","NicTeamBeaconProbe",
             "VLAN","PVLAN","L2SEC","10G","Shaper","VmknicPortConfig","8021pMapping",
             "VerifyLoadBalanceTeam","IPv6ManyWorkLoads", "LimitsVerify1G", "LimitsVerify10G",);
   %NetIORM = (
      'SystemPoolsCreation' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "SystemPoolsCreation",
         Summary           => "Verify in the vsish nodes that NetIORM default system resource pools are configured",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
               host        => 1,
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['Check_SystemPools'],],
            Duration          => "time in seconds",

            "Check_SystemPools" => {
               Type           => "VC",
               OPT            => "checkpools",
               Host           => "SUT",
            },
         },
      },
      'SystemPoolsDelete' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "SystemPoolsDelete",
         Summary           => "Verify System resource pools can NOT be deleted",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
               host        => 1,
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['DelSystemNRP'],['CheckSystemNRP'],['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1",
            },
            "DelSystemNRP" => {
               Type           => "VC",
               OPT            => "delsystemnrp",
               VDSName        => "vdstest",
            },
             "CheckSystemNRP" => {
               Type           => "VC",
               OPT            => "checkpools",
               Host           => "SUT",
            },
         },
      },
      'VMResPoolsAddRemove' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "VMResPoolsAddRemove",
         Summary           => "Create/Delete a NRP from the UI and verify that it's successfully created/deleted in the vsish node",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
               host        => 1,
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['AddNRP1'],['CheckUserNRP_1'],['DelNRP'],
                                  ['CheckUserNRP_2'],['AddNRP2'],['AddNRP3'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100",
               NRP8021pTAG    => "3",
               NRPShare       => "100",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
            },
            "AddNRP3" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp3",
               NRPShare       => "75",
               NRPLimit       => "100",
            },
            "CheckUserNRP_1" => {
               Type           => "VC",
               OPT            => "checkpools",
               Host           => "SUT",
               NRPName        => "NRP",
               Exist          => "yes",
            },
            "DelNRP" => {
               Type           => "VC",
               OPT            => "deletenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
            },
             "CheckUserNRP_2" => {
               Type           => "VC",
               OPT            => "checkpools",
               Host           => "SUT",
               NRPName        => "NRP",
               Exist          => "no",
            },
         },
      },
      'VerifyStatReset' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "VerifyStatReset",
         Summary           => "verify that all counters are reset to 0",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['CreateDVPG'],
                                  ['AddPort1'],['AddPort2'],['ChangePortgroupWork_1'],
                                  ['ChangePortgroupWork_2'],['NetAdapter_1'],['NetAdapter_2'],
                                  ['Iperf_1'],['ResetNetIORMCounter'],
                                  ['ChangePortgroupWork_3'],['ChangePortgroupWork_4'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100",
               NRP8021pTAG    => "3",
               NRPShare       => "100",
            },
            "CreateDVPG" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
             },
             "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
             },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               NoofOutbound   => "1",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
             },
             "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
             },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "SUT",
               Check          => "nrp1",
            },
         },
      },
      'SharesVerify' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "SharesVerify",
         Tags              => "CAT_P0",
         Summary           => "Verify that Netiorm Share functionality works with many different settings",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['ResetNetIORMCounter'],
                                  ['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP3'],['UpdateNRP4'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['DisableNetIORM1'],['Iperf_1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "30",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck          => "nrp1,nrp2",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "normal",
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "30",
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
         },
      },
      'JF_TSO' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "JF_TSO",
         Summary           => "Verify that TSO&JF and NetIORM co-exist.",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['AddPort3'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP3'],['UpdateNRP4'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['DisableNetIORM1'],['Iperf_1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "30",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort3" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck          => "nrp1,nrp2",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "normal",
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "30",
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
         },
      },
      'MultipleVMRP' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "MultipleVMRP",
         Summary           => "Verify multiple VM Resource pool creation",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],['AddNRP3'],['AddNRP4'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['CreateDVPG3'],['CreateDVPG4'],
                                  ['AddPort1'],['AddPort2'],['AddPort3'],['AddPort4'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],['ChangePortgroupWork_4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify_share'],
                                  ['UpdateNRP2'],['UpdateNRP3'],['UpdateNRP4'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify_limit'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],['ChangePortgroupWork_8'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
            },
            "AddNRP3" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp3",
               NRPShare       => "80",
            },
            "AddNRP4" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp4",
               NRPShare       => "60",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "CreateDVPG3" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgc",
               nrp               => "nrp3",
            },
            "CreateDVPG4" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpg4",
               nrp               => "nrp4",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "AddPort3" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgc",
            },
            "AddPort4" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpg4",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgc",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpg4",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify_share" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp2,nrp3",
            },
            "NetIORMVerify_limit" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp3",
               LimitDuration  => "100",
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp3",
               NRPLimit       => "100"
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp4",
               NRPLimit       => "100"
            },
         },
      },
      'Shares_AddUplink' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Shares_AddUplink",
         Summary           => "Verify that Netiorm Share functionality works while adding another nic",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['SetTeaming1'],['SetTeaming2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],['ChangePortgroupWork_4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['AddUplink'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],['ChangePortgroupWork_8'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "30",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "low",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "AddUplink" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
             "SetTeaming2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpgb",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
         },
      },
      'Shares_ThreePNICS' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Shares_ThreePNICS",
         Summary           => "Verify that Netiorm Share functionality works with 3 physical interfaces",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
            helper4     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['AddUplink1'],['AddUplink2'],['SetTeaming1'],['SetTeaming2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_9'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],['NetAdapter_5'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],
                                  ['ChangePortgroupWork_8'],['ChangePortgroupWork_10'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "70",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
             "SetTeaming2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpgb",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
             "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_9" => {
               Type           => "VM",
               Target         => "helper4",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_5" => {
               Type           => "NetAdapter",
               Target         => "helper4",
               ipv4           => "192.168.111.5",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_10" => {
               Type           => "VM",
               Target         => "helper4",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "AddUplink1" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "AddUplink2" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
         },
      },
      'Limits_Verify_AddUplink_ThreePNICs' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Limits_Verify_AddUplink_ThreePNICs",
         Summary           => "Verify that Netiorm Limit functionality works while adding another nic, three nic,",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['ResetNetIORMCounter'],
                                  ['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['AddUplink1'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP2'],['AddUplink2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['RemoveUplink1'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['UpdateNRP3'],['Iperf_1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "50",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "50",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "150"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "-1"
            },
            "AddUplink1" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "AddUplink2" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "RemoveUplink1" => {
               Type           => "VC",
               OPT            => "removeuplink",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
         },
      },
      'UDP' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "UDP",
         Summary           => "Verify that UDP works with NetIORM",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "75",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
         },
      },
      'SmallFrames' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "SmallFrames",
         Summary           => "Verify that small frames and NetIORM co-exist",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_2'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "75",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "700",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "700",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "700",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
         },
      },
      'Both_Verify' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Both_Verify",
         Summary           => "Verify that Netiorm Share and Limit functionality works with different settings",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['ResetNetIORMCounter'],['Iperf_2'],['NetIORMVerify2'],
                                  ['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "normal",
               NRPLimit       => "-1",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
               NRPLimit       => "-1",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp,udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "100",
               NRPLimit       => "100"
            },
         },
      },
      'Both_AddUplink' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Both_AddUplink",
         Summary           => "Verify that Netiorm Share and Limit functionality works with different settings",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['AddUplink'],['SetTeaming1'],['SetTeaming2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],['ChangePortgroupWork_4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['ResetNetIORMCounter'],['Iperf_2'],['NetIORMVerify2'],
                                  ['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],['ChangePortgroupWork_8'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "high",
               NRPLimit       => "-1",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "normal",
               NRPLimit       => "-1",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "100",
               NRPLimit       => "100"
            },
            "AddUplink" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
             "SetTeaming2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpgb",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
         },
      },
      'Both_ThreePNICs' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Both_ThreePNICs",
         Summary           => "Verify that Netiorm Share and Limit functionality works with additional nics",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['AddUplink'],['SetTeaming1'],['SetTeaming2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],['ChangePortgroupWork_4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['AddUplink'],['UpdateNRP1'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['RemoveUplink'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['UpdateNRP3'],['ResetNetIORMCounter'],['Iperf_2'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],['ChangePortgroupWork_8'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "80",
               NRPLimit       => "500",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "normal",
               NRPLimit       => "500",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
             "SetTeaming2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpgb",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "failover_explicit",
             },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "100",
               NRPLimit       => "90"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "100",
               NRPLimit       => "-1"
            },
            "AddUplink" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "RemoveUplink" => {
               Type           => "VC",
               OPT            => "removeuplink",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
         },
      },
      'SuspendSnapResume' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "SuspendSnapResume",
         Summary           => "Verify that Suspend and Snapshot works with NetIORM",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['Suspend_Resume'],['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['CreateSnap1'],['UpdateNRP3'],['UpdateNRP4'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['RevertSnap1'],['UpdateNRP1'],['UpdateNRP2'],['Sleep'],['NetAdapter_2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "Sleep" => {
               Type           => "Command",
               Target         => "helper1",
               HostType       => "esx",
               Command        => "sleep 300",# waiting for VM recover from snapshot.
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "75",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "80"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "75",
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "Suspend_Resume" => {
               Type           => "VM",
               Target         => "helper1",
               Iterations     => "1",
               Operation      => "suspend,resume",
            },
            "CreateSnap1" => {
               Type           => "VM",
               Target         => "helper1",
               Iterations     => "1",
               Operation      => "CREATESNAP",
               Snapshotname   => "Netiorm_helper1",
            },
            "RevertSnap1" => {
               Type           => "VM",
               Target         => "helper1",
               Iterations     => "1",
               Operation      => "REVERTSNAP",
               Snapshotname   => "Netiorm_helper1",
            },
         },
      },
      'OptOut' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "OptOut",
         Summary           => " Verify that physical nics can opt-out of NetIORM",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },
         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['OptOut_Enable'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['OptOut_Disable'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "OptOut_Enable" => {
               Type           => "VC",
               OPT            => "optout",
               VDSName        => "vdstest",
               Host           => "helper1",
               Value          => "0",
            },
            "OptOut_Disable" => {
               Type           => "VC",
               OPT            => "optout",
               VDSName        => "vdstest",
               Host           => "helper1",
               Value          => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "25",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "high",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
               OptOut         => "true",
            },,
         },
      },
      'MultipleInterfaceLBT' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "MultipleInterfaceLBT",
         Summary           => "Verify that initial load starts distributed across vmnics",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddUplink1'],['AddUplink2'],
                                  ['CreateDVPG1'],['AddPort1'],['SetTeaming1'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "7",
               addporttodvportgroup => "dvpga",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LBT            => "nrp1",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "linkstatusonly",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "loadbalance_loadbased",
             },
             "AddUplink1" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
             },
             "AddUplink2" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
         },
      },
      'NicTeamBeaconProbe' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "NicTeamBeaconProbe",
         Summary           => "Verify that Load balance team works with beacon probe",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
            helper3     => {
               vnic        => ['vmxnet3:1'],
            },
            helper4     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['AddUplink1'],['AddUplink2'],['SetTeaming1'],['SetTeaming2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_9'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['NetAdapter_4'],['NetAdapter_5'],
                                  ['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify'],['UpdateNRP1'],['UpdateNRP2'],
                                  ['SetVDSUplink1'],['Sleep'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['SetVDSUplink2'],['Sleep'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],['ChangePortgroupWork_7'],
                                  ['ChangePortgroupWork_8'],['ChangePortgroupWork_10'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "70",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "50",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "SetTeaming1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpga",
               failover => "beaconprobing",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "loadbalance_srcid",
             },
             "SetTeaming2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               confignicteaming => "dvpgb",
               failover => "beaconprobing",
               notifyswitch => "N",
               failback => "false",
               lbpolicy => "loadbalance_srcid",
             },
             "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_9" => {
               Type           => "VM",
               Target         => "helper4",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_4" => {
               Type           => "NetAdapter",
               Target         => "helper3",
               ipv4           => "192.168.111.4",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_5" => {
               Type           => "NetAdapter",
               Target         => "helper4",
               ipv4           => "192.168.111.5",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_7" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_8" => {
               Type           => "VM",
               Target         => "helper3",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_10" => {
               Type           => "VM",
               Target         => "helper4",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp2",
               #when the taffic was sent out through diffrent pNICs, change portgroup to make it out through one nic.
               RotateOnFail   => "ChangePortgroupWork_rotate1:ResetNetIORMCounter:Iperf_2,ChangePortgroupWork_rotate2:ResetNetIORMCounter:Iperf_3",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "140",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "120"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
            "AddUplink1" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "AddUplink2" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
            },
            "ChangePortgroupWork_rotate1" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_rotate2" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               PortNumber     => "3324",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "Iperf_3" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               PortNumber     => "3323",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
            },
            "SetVDSUplink1" => {
               Type           => "VC",
               OPT            => "setvdsuplink",
               VDSName        => "vdstest",
               PortMode       => "access",
               vlanid         => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               host           => "helper1",
               Count          => 1,
            },
            "SetVDSUplink2" => {
               Type           => "VC",
               OPT            => "setvdsuplink",
               PortMode       => "trunk",
               NativeVlan     => VDNetLib::Common::GlobalConfig::VDNET_NATIVE_VLAN,
               VlanRange      => VDNetLib::Common::GlobalConfig::VDNET_ALLOWED_VLAN,
               host           => "helper1",
               VDSName        => "vdstest",
            },
            "Sleep" => {
               Type           => "Command",
               Target         => "helper1",
               HostType       => "esx",
               Command        => "sleep 60",# waiting for beacon probing.
            },
         },
      },
      'VLAN' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "VLAN",
         Summary           => "Verify that VLAN and NetIORM co-exist",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],
                                  ['SetVDSPGVlan1'],['SetVDSPGVlan2'],['SetVDSPGVlan3'],['SetVDSPGVlan4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['ResetNetIORMCounter'],
                                  ['Iperf_1'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "50",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "50",
            },
            "SetVDSPGVlan1" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "SUT",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpga",
            },
            "SetVDSPGVlan2" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "SUT",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpgb",
            },
            "SetVDSPGVlan3" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "helper1",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpga",
            },
            "SetVDSPGVlan4" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "helper1",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpgb",
            },
         },
      },
      'PVLAN' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "PVLAN",
         Summary           => "Verify that PVLAN works with PVLAN",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['AddPVLAN1'],['AddPVLAN2'],['SetPVLAN1'],['SetPVLAN2'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['ResetNetIORMCounter'],
                                  ['Iperf_1'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "AddPVLAN1" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               addpvlanmap    => "promiscuous",
               primaryvlan    => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_PRI_A,
               secondaryvlan  => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_PRI_A,
            },
            "AddPVLAN2" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               addpvlanmap    => "community",
               primaryvlan    => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_PRI_A,
               secondaryvlan  => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_SEC_COM_A,
            },
            "SetPVLAN1" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               setpvlantype   => "dvpga",
               pvlan          => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_PRI_A,
            },
            "SetPVLAN2" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               setpvlantype   => "dvpgb",
               pvlan          => VDNetLib::Common::GlobalConfig::VDNET_PVLAN_SEC_COM_A,
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "30",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck          => "nrp1,nrp2",
            },
         },
      },
      'L2SEC' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "L2SEC",
         Summary           => "Verify that NetIORM works with L2SEC Options",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],
                                  ['AddPort2'],['ChangePortgroupWork_1'],
                                  ['ChangePortgroupWork_2'],['NetAdapter_1'],
                                  ['NetAdapter_2'],['ResetNetIORMCounter'],
                                  ['SetMAC_1'],['AcceptMACChange'],
                                  ['AcceptForgedTx'],['Iperf_1'],
                                  ['NetIORMVerify'],['ChangePortgroupWork_4'],
                                  ['ChangePortgroupWork_5'],
                                  ['RemoveDC'],],
            ExitSequence      => [['ResetMAC']],
            Duration          => "time in seconds",
            "SetMAC_1" => {
               Type           => "NetAdapter",
               Iterations     => "1",
               Target         => "helper1",
               TestAdapter    => "1",
               SetMACAddr     => "00:11:33:55:44:55",
            },
            "ResetMAC" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               TestAdapter    => "1",
               SetMACAddr     => "reset",
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "50",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "50",
            },
            "AcceptMACChange" => {
                Type          => "Switch",
                SwitchType    => "vdswitch",
                Target        => "VC",
                TestSwitch    => "vdstest",
                datacenter    => "dctest",
                DVPortgroup   => "dvpga",
                SetMACAddressChange => "Enable",
            },
            "AcceptForgedTx" => {
                Type          => "Switch",
                SwitchType    => "vdswitch",
                Target        => "VC",
                TestSwitch    => "vdstest",
                datacenter    => "dctest",
                DVPortgroup   => "dvpga",
                SetForgedTransmit => "Enable",
            },
         },
      },
      '10G' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "10G",
         Summary           => "Verify that NRP works with 10G physical interface",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
                vmnic     => [
                               {
                                  count  => 1,
                                  speed  => "10G",
                               },
                             ],
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
                vmnic     => [
                               {
                                  count  => 1,
                                  speed  => "10G",
                               },
                             ],
               vnic        => ['vmxnet3:1'],
            },
            helper2     => {
                vmnic     => [
                               {
                                  count  => 1,
                                  speed  => "10G",
                               },
                             ],
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['NetAdapter_3'],['ResetNetIORMCounter'],
                                  ['Iperf_2','Iperf_3'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['UpdateNRP2'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
               UplinkSpeed    => "10G",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPShare       => "30",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_3" => {
               Type           => "NetAdapter",
               Target         => "helper2",
               ipv4           => "192.168.111.3",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "9000",
            },
            "Iperf_3" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "8000",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck          => "nrp1,nrp2",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "120"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
         },
      },
      'Shaper' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "Shaper",
         Summary           => "Verify that Shaper works with NetIORM",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['EnableInShaping'],
                                  ['NetAdapter_1'],['NetAdapter_2'],['ResetNetIORMCounter'],
                                  ['Iperf_2'],['NetIORMVerify1'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
               UplinkSpeed    => "10G",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100"
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "100"
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp2",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "9000",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "EnableInShaping" => {
               Type => "Switch",
               Target => "VC",
               SwitchType => "vdswitch",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               enableinshaping => "dvpga",
               avgbandwidth => "2000000",
               peakbandwidth => "2000000",
               burstsize => "200000000",
               type      => "OUTBOUND",
            },
         },
      },
      'VmknicPortConfig' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "VmknicPortConfig",
         Summary           => "Verify that a vmknic associated to a different resource pool via port group should take precedence",
         Tags              => "vmotion",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              host        => 1,
              datastoreType  => "shared",
            },
            helper1     => {
              vnic        => ['vmxnet3:1'],
              datastoreType  => "shared",
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],['ResetNetIORMCounter'],
                                  ['ChangePortgroupWork_1'],['ADDVMK1'],['ADDVMK2'],['vmotion'],['RMVMK1'],['RMVMK2'],
                                  ['NetIORMVerify'],['ChangePortgroupWork_2'],['RemoveDC'],],
            Duration          => "time in seconds",
            "vmotion" => {
               Type           => "VC",
               OPT            => "vMotion",
               VM             => "helper1",
               DstHost        => "SUT",
               Priority       => "high",
               Staytime       => "5",
               RoundTrip      => "yes",
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmkpg",
               nrp               => "nrp1",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmpg",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmpg",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmkpg",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               Precedence     => "nrp1",
            },
            "ADDVMK1" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "SUT",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "ADDVMK2" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "helper1",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "RMVMK1" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "SUT",
               IPAdd           => "auto",
            },
            "RMVMK2" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "helper1",
               IPAdd           => "auto",
            },
         },
      },
      '8021pMapping' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "8021pMapping",
         Summary           => "Verify that 802.1p tags are inserted into the header",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['EnableLog'],
                                  ['SetVDSPGVlan1'],['SetVDSPGVlan2'],['SetVDSPGVlan3'],['SetVDSPGVlan4'],
                                  ['NetAdapter_1'],['NetAdapter_2'],
                                  ['Ping_1'],['DisableLog'],['Sleep'],['NetIORMVerify'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "EnableLog" => {
               Type           => "VC",
               OPT            => "setlinnet",
               Host           => "SUT",
               Level          => "2",
            },
            "DisableLog" => {
               Type           => "VC",
               OPT            => "setlinnet",
               Host           => "SUT",
               Level          => "0",
            },
            "Sleep" => {
               Type           => "Command",
               Target         => "helper1",
               HostType       => "esx",
               Command        => "sleep 5",# waiting for disk log sync.
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50",
               NRP8021pTAG    => "4",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "dvpgb",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "NetAdapter_1" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "NetAdapter_2" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "1500",
               TSOIPv4        => "Enable",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Ping_1" => {
               Type           => "Traffic",
               ToolName       => "ping",
               NoofInbound    => "1",
               RoutingScheme  => "unicast",
               NoofOutbound   => "1",
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "SUT",
               Map8021p       => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
            },
            "SetVDSPGVlan1" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "SUT",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpga",
            },
            "SetVDSPGVlan2" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "SUT",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpgb",
            },
            "SetVDSPGVlan3" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "helper1",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpga",
            },
            "SetVDSPGVlan4" => {
               Type           => "Switch",
               SwitchType     => "vdswitch",
               Target         => "helper1",
               datacenter     => "dctest",
               TestSwitch     => "vdstest",
               accessvlan     => VDNetLib::Common::GlobalConfig::VDNET_VLAN_D,
               portgroup      => "dvpgb",
            },
         },
      },
      'ManyWorkLoads' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "ManyWorkLoads",
         Summary           => "Verify that many traffic types and workloads run simultaneously",
         Tags              => "vmotion",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
              vnic        => ['vmxnet3:1'],
              datastoreType  => "shared",
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],['AddNRP2'],['AddNRP3'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['CreateDVPG3'],
                                  ['AddPort1'],['AddPort2'],['AddPort3'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['ADDVMK1'],['ADDVMK2'],['vmotion'],['ResetNetIORMCounter'],
                                  ['Iperf_1'],['NetIORMVerify1'],
                                  ['UpdateNRP1'],['ResetNetIORMCounter'],['Iperf_2'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RMVMK1'],['RMVMK2'],['RemoveDC'],],
            Duration          => "time in seconds",
            "vmotion" => {
               Type           => "VC",
               OPT            => "vMotion",
               VM             => "helper1",
               DstHost        => "SUT",
               Priority       => "high",
               Staytime       => "5",
               RoundTrip      => "yes",
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100"
            },
            "AddNRP2" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp2",
               NRPLimit       => "50"
            },
            "AddNRP3" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp3",
               NRPShare       => "30",
            },
            "CreateDVPG3" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmpg3",
               nrp               => "nrp3",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmkpg",
               nrp               => "nrp2",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmpg",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmpg",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmkpg",
            },
            "AddPort3" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmpg3",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vmpg3",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vmpg3",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "100",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "normal",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "9000",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               ShareCheck     => "nrp1,nrp3",
            },
            "ADDVMK1" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "SUT",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "ADDVMK2" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "helper1",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "RMVMK1" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "SUT",
               IPAdd           => "auto",
            },
            "RMVMK2" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "helper1",
               IPAdd           => "auto",
            },
         },
      },
      'VerifyLoadBalanceTeam' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "VerifyLoadBalanceTeam",
         Summary           => "Test the new Load Balancing teaming policy",
         Tags              => "vmotion",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
              vnic        => ['vmxnet3:1'],
              datastoreType  => "shared",
            },
            helper2     => {
               vnic        => ['vmxnet3:1'],
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],
                                  ['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ChangePortgroupWork_2'],['ChangePortgroupWork_3'],
                                  ['ADDVMK1'],['ADDVMK2'],['vmotion'],['AddUplink1'],
                                  ['ResetNetIORMCounter'],['Iperf_2'],['NetIORMVerify2'],
                                  ['ChangePortgroupWork_4'],['ChangePortgroupWork_5'],['ChangePortgroupWork_6'],
                                  ['RMVMK1'],['RMVMK2'],['RemoveDC'],],
            Duration          => "time in seconds",
            "vmotion" => {
               Type           => "VC",
               OPT            => "vMotion",
               VM             => "helper1",
               DstHost        => "SUT",
               Priority       => "high",
               Staytime       => "5",
               RoundTrip      => "yes",
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "AddUplink1" => {
               Type           => "VC",
               OPT            => "adduplink",
               VDSName        => "vdstest",
               Uplink         => "helper1::1",
             },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPShare       => "low",
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmkpg",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmpg",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmpg",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmkpg",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_3" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePortgroupWork_4" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_5" => {
               Type           => "VM",
               Target         => "helper2",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_6" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "Iperf_2" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "9000",
            },
            "NetIORMVerify2" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LBT            => "nrp1",
            },
            "ADDVMK1" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "SUT",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "ADDVMK2" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "helper1",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "auto",
            },
            "RMVMK1" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "SUT",
               IPAdd           => "auto",
            },
            "RMVMK2" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "helper1",
               IPAdd           => "auto",
            },
         },
      },
      'IPv6ManyWorkLoads' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "IPv6ManyWorkLoads",
         Summary           => "Verify that many traffic types and workloads run with IPv6",
         Tags              => "hostreboot,vmotion",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic        => ['vmxnet3:1'],
            },
            helper1     => {
              vnic        => ['vmxnet3:1'],
              datastoreType  => "shared",
            },
         },

         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['PowerOffVM'],['EnableIPv6SUT'],['RebootSUTHost'],
                                  ['EnableIPv6Helper'],['RebootHelperHost'],['PowerOnVM'],
                                  ['ConnectVC'],['CreateDC'],['CreateVDS'],
                                  ['EnableNetIORM1'],['AddNRP1'],
                                  ['CreateDVPG1'],['CreateDVPG2'],['AddPort1'],['AddPort2'],
                                  ['ChangePortgroupWork_1'],['ADDVMK1'],['ADDVMK2'],['vmotion'],
                                  ['NetAdapter_SetIPv6'],['ResetNetIORMCounter'],['Iperf_1'],['NetIORMVerify1'],
                                  ['RMVMK1'],['RMVMK2'],['ChangePortgroupWork_2'],['RemoveDC'],],
            Duration          => "time in seconds",
            "vmotion" => {
               Type           => "VC",
               OPT            => "vMotion",
               VM             => "helper1",
               DstHost        => "SUT",
               Priority       => "high",
               Staytime       => "5",
               RoundTrip      => "yes",
            },
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/dctest",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/dctest",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "dctest",
               Uplink         => "SUT::1,helper1::1",
            },
            "EnableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "DisableNetIORM1" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "dctest",
                TestSwitch => "vdstest",
                disablenetiorm => "1",
            },
            "AddNRP1" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "CreateDVPG2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmkpg",
            },
            "CreateDVPG1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "dctest",
               createdvportgroup => "vmpg",
               nrp               => "nrp1",
            },
            "AddPort1" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmpg",
            },
            "AddPort2" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "dctest",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "vmkpg",
            },
            "ChangePortgroupWork_1" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vmpg",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
             "ChangePortgroupWork_2" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "NetAdapter_SetIPv6" => {
               Type           => "NetAdapter",
               Iterations     => "1",
               Target         => "SUT,helper1",
               TestAdapter    => "1",
               IPV6ADDR       => "DEFAULT",
               IPV6           => "ADD",
            },
            "Iperf_1" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "udp",
               L3Protocol     => "ipv6",
               NoofInbound    => "1",
               TestDuration   => "100",
               udpbandwidth   => "10000M",
               PortNumber     => "9011",
            },
            "NetIORMVerify1" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "100",
            },
            "ADDVMK1" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "SUT",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "2011::1",
               PREFIXLEN       => "64",
            },
            "ADDVMK2" => {
               Type            => "VC",
               OPT             => "addvmk",
               Host            => "helper1",
               VDSName         => "vdstest",
               DCName          => "dctest",
               DVPORTGROUPNAME => "vmkpg",
               IPAdd           => "2011::2",
               PREFIXLEN       => "64",
            },
            "RMVMK1" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "SUT",
               IPv6Add         => "2011::1",
            },
            "RMVMK2" => {
               Type            => "VC",
               OPT             => "removevmk",
               Host            => "helper1",
               IPv6Add         => "2011::2",
            },
            "EnableIPv6SUT" => {
               Type           => "Host",
               Target         => "SUT",
               AbleIPv6       => "ENABLE",
            },
             "RebootSUTHost" => {
               Type           => "Host",
               Target         => "SUT",
               reboot         => "yes",
            },
            "EnableIPv6Helper" => {
               Type           => "Host",
               Target         => "helper1",
               AbleIPv6       => "ENABLE",
            },
             "RebootHelperHost" => {
               Type           => "Host",
               Target         => "helper1",
               reboot         => "yes",
            },
            "PowerOffVM" => {
               Type           => "VM",
               Target         => "SUT,helper1",
               Operation      => "poweroff",
            },
            "PowerOnVM" => {
               Type           => "VM",
               Target         => "SUT,helper1",
               Operation      => "poweron",
            },
         },
      },
      'LimitsVerify1G' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "LimitsVerify1G",
         Summary           => "Verify that Netiorm Limit functionality works well with 1G uplink",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic         => ['vmxnet3:1'],
            },
            helper1        => {
              vnic         => ['vmxnet3:1'],
            },
         },
         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM'],['AddLimitsNRP'],
                                  ['CreateDVPG_A'],['CreateDVPG_B'],['AddPorts_A'],['AddPorts_B'],
                                  ['ChangePG_A'],['ChangePG_B'],['SetSUTIP'],['SetHelperIP'],
                                  ['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP2'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP3'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP4'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UnlimitNRP'],['IperfStress'],['ChangePGBack_A'],['ChangePGBack_B'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/NetIORM_testDC",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/NetIORM_testDC",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "NetIORM_testDC",
               Uplink         => "SUT::1,helper1::1",
	       UplinkSpeed    => "1000M", # 1G uplink will be used.
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "NetIORM_testDC",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "CreateDVPG_A" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "NetIORM_testDC",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG_B" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "NetIORM_testDC",
               createdvportgroup => "dvpgb",
            },
            "AddPorts_A" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "NetIORM_testDC",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPorts_B" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "NetIORM_testDC",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePG_A" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePG_B" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "SetSUTIP" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "SetHelperIP" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "ChangePGBack_A" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePGBack_B" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "IperfStress" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "50",
            },
            "EnableNetIORM" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "NetIORM_testDC",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "AddLimitsNRP" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "50",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "100"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "200"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "400"
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "800"
            },
            "UnlimitNRP" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "-1"
            },
         },
      },
      'LimitsVerify10G' => {
         Component         => "network io resource management",
         Category          => "ESX Server",
         TestName          => "LimitsVerify10G",
         Summary           => "Verify that Netiorm Limit functionality works well with 10G uplink",
         ExpectedResult    => "PASS",
         Parameters        => {
            SUT            => {
              vnic         => ['vmxnet3:1'],
            },
            helper1        => {
              vnic         => ['vmxnet3:1'],
            },
         },
         WORKLOADS => {
            IgnoreFailure     => 1,
            Sequence          => [['ConnectVC'],['CreateDC'],['CreateVDS'],['SetJumbo'],
                                  ['EnableNetIORM'],['AddLimitsNRP'],
                                  ['CreateDVPG_A'],['CreateDVPG_B'],['AddPorts_A'],['AddPorts_B'],
                                  ['ChangePG_A'],['ChangePG_B'],['SetSUTIP'],['SetHelperIP'],
                                  ['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP1'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP2'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP3'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UpdateNRP4'],['ResetNetIORMCounter'],['IperfStress'],['NetIORMVerify'],
                                  ['UnlimitNRP'],['IperfStress'],['ChangePGBack_A'],['ChangePGBack_B'],
                                  ['RemoveDC'],],
            Duration          => "time in seconds",
            "ConnectVC" => {
               Type           => "VC",
               OPT            => "connect",
            },
            "CreateDC" => {
               Type           => "VC",
               OPT            => "adddc",
               DCName         => "/NetIORM_testDC",
               Hosts          => "SUT,helper1",
            },
            "RemoveDC" => {
               Type           => "VC",
               OPT            => "removedc",
               DCName         => "/NetIORM_testDC",
            },
            "CreateVDS" => {
               Type           => "VC",
               OPT            => "createvds",
               VDSName        => "vdstest",
               DCName         => "NetIORM_testDC",
               Uplink         => "SUT::1,helper1::1",
	       UplinkSpeed    => "10G", # 10G uplink will be used.
            },
            "SetJumbo" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "NetIORM_testDC",
                TestSwitch => "vdstest",
                mtu => "9000",
            },
            "CreateDVPG_A" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "NetIORM_testDC",
               createdvportgroup => "dvpga",
               nrp               => "nrp1",
            },
            "CreateDVPG_B" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               TestSwitch => "vdstest",
               datacenter => "NetIORM_testDC",
               createdvportgroup => "dvpgb",
            },
            "AddPorts_A" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "NetIORM_testDC",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpga",
            },
            "AddPorts_B" => {
               Type => "Switch",
               SwitchType => "vdswitch",
               Target => "VC",
               datacenter => "NetIORM_testDC",
               TestSwitch => "vdstest",
               ports => "5",
               addporttodvportgroup => "dvpgb",
            },
            "ChangePG_A" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "dvpgb",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePG_B" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "dvpga",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "SetSUTIP" => {
               Type           => "NetAdapter",
               Target         => "SUT",
               ipv4           => "192.168.111.1",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "SetHelperIP" => {
               Type           => "NetAdapter",
               Target         => "helper1",
               ipv4           => "192.168.111.2",
               TestAdapter    => "1",
               MTU            => "9000",
               TSOIPv4        => "Enable",
            },
            "ChangePGBack_A" => {
               Type           => "VM",
               Target         => "SUT",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "ChangePGBack_B" => {
               Type           => "VM",
               Target         => "helper1",
               TestAdapter    => "1",
               PortGroupName  => "vdtest",
               Operation      => "ChangePortGroup",
               Anchor         => "vc",
            },
            "IperfStress" => {
               Type           => "Traffic",
               ToolName       => "Iperf",
               l4protocol     => "tcp",
               NoofInbound    => "1",
               TestDuration   => "50",
            },
            "EnableNetIORM" => {
                Type => "Switch",
                Target => "VC",
                SwitchType => "vdswitch",
                datacenter => "NetIORM_testDC",
                TestSwitch => "vdstest",
                enablenetiorm => "1",
            },
            "ResetNetIORMCounter" => {
               Type           => "VC",
               OPT            => "resetnetiormcounter",
               VDSName        => "vdstest",
               Host           => "helper1",
            },
            "AddLimitsNRP" => {
               Type           => "VC",
               OPT            => "addnrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "50"
            },
            "NetIORMVerify" => {
               Type           => "VC",
               OPT            => "netiormverify",
               VDSName        => "vdstest",
               Host           => "helper1",
               LimitCheck     => "nrp1",
               LimitDuration  => "50",
            },
            "UpdateNRP1" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "1000"
            },
            "UpdateNRP2" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "2000"
            },
            "UpdateNRP3" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "4000"
            },
            "UpdateNRP4" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "8000"
            },
            "UnlimitNRP" => {
               Type           => "VC",
               OPT            => "updatenrp",
               VDSName        => "vdstest",
               NRPName        => "nrp1",
               NRPLimit       => "-1"
            },
         },
      },
   );
}


########################################################################
#
# new --
#       This is the constructor for NetIORM
#
# Input:
#       none
#
# Results:
#       An instance/object of NetIORM class
#
# Side effects:
#       None
#
########################################################################

sub new
{
   my ($proto) = @_;
   # Below way of getting class name is to allow new class as well as
   # $class->new.  In new class, proto itself is class, and $class->new,
   # ref($class) return the class
   my $class = ref($proto) || $proto;
   my $self = $class->SUPER::new(\%NetIORM);
   return (bless($self, $class));
}

1;
