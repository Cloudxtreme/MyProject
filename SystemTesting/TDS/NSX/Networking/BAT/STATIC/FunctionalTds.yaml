TestCase0:
    Category: 'Static'
    Component: 'StaticRouting'
    ExpectedResult: 'PASS'
    Summary: 'Verify that static routes/nexthops are correctly configured
              and data path validation'
    Tags: 'DynamicRouting,BAT'
    TestName: 'TestCase1'
    Version: '2'
    TestbedSpec: *VDR_TOPOLOGY_01
    WORKLOADS:
        Sequence:
            - ['CreateVirtualWires']
            - ['PlaceVM1OnVwire8','PlaceVM3OnDVPG8','PlaceVM2OnVwire9']
            - ['SetVXLANIPVM1','SetDVPGIPVM3','SetVXLANIPVM2']
            - ['AddVXLANRouteVM1','AddDVPGRouteVM3','AddVXLANRouteVM2','AddDVPGRouteVM3_1']
            - ['DeployVDR']
            - ['DeployGatewayServicesEDGE1']
            - ['DeployExternalRouter']
            - ['DisableFirewall_VDR']
            - ['DisableFirewall_EDGE1']
            - ['DisableFirewall_EXTERNALROUTER']
            - ['CreateVdrInterface1']
            - ['CreateVdrInterface2']
            - ['CreateGatewayInterface1EDGE1']
            - ['ReCreateGatewayInterface3EDGE1']
            - ['CreateGatewayInterface5EDGE1']
            - ['CreateGatewayInterface1EXTERNALROUTER']
            - ['CreateGatewayInterface4EXTERNALROUTER']
            - ['Configure_STATICROUTE_VDR']
            - ['Configure_STATICROUTE1_EDGE1_SINGLE']
            - ['Configure_STATICROUTE1_EXTERNALROUTER_SINGLE']
            - ['ShowIPForwarding_VDR']
            - ['ShowIPForwarding_EDGE1_New']
            - ['ShowIPRoute_VDR']
            - ['ShowIPRoute_EDGE1_NEW']
            - ['CreateService']
            - ['CreateService_EXTERNAL']
            - ['ConfigureFirewall_VDR']
            - ['ConfigureFirewall1_EDGE1']
            - ['ConfigureFirewall1_EXTERNALROUTER']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
            - ['Remove_STATICROUTE1_EDGE1_SINGLE']
            - ['PingVM2andVM3_Fail']
            - ['PingVM1andVM3_Fail']
            - ['Configure_STATICROUTE1_EDGE1_SINGLE']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
        #ExitSequence:
            - ['RemovevNICFromVM1']
            - ['RemovevNICFromVM2']
            - ['RemovevNICFromVM3']
            - ['DELETE_ALL_EDGE']
            - ['DELETE_ALL_EXTERNAL_EDGE']
            - ['DELETE_VDR_EDGE']
            - ['DeleteServices']
            - ['DeleteServices_External']
            - ['DeleteVirtualWires']
TestCase1:
    Category: 'Static'
    Component: 'StaticRouting'
    ExpectedResult: 'PASS'
    Summary: 'Verify that static routes/nexthops are correctly configured
              and data path validation with ECMP enabled (recommended to disable firewall)'
    Tags: 'DynamicRouting,BAT'
    TestName: 'TestCase1'
    Version: '2'
    TestbedSpec: *VDR_TOPOLOGY_01
    WORKLOADS:
        Sequence:
            - ['CreateVirtualWires']
            - ['PlaceVM1OnVwire8','PlaceVM3OnDVPG8','PlaceVM2OnVwire9']
            - ['SetVXLANIPVM1','SetDVPGIPVM3','SetVXLANIPVM2']
            - ['AddVXLANRouteVM1','AddDVPGRouteVM3','AddVXLANRouteVM2','AddDVPGRouteVM3_1']
            - ['Reconfigure_AddDVPGRouteVM3']
            - ['DeployVDR']
            - ['DeployGatewayServicesEDGE1']
            - ['DeployGatewayServicesEDGE2']
            - ['DeployGatewayServicesEDGE3']
            - ['DeployGatewayServicesEDGE4']
            - ['DeployExternalRouter']
            - ['DisableFirewall_VDR']
            - ['DisableFirewall_EDGE1']
            - ['DisableFirewall_EDGE2']
            - ['DisableFirewall_EDGE3']
            - ['DisableFirewall_EDGE4']
            - ['DisableFirewall_EXTERNALROUTER']
            - ['CreateVdrInterface1']
            - ['CreateVdrInterface2']
            - ['CreateGatewayInterface1EDGE1']
            - ['CreateGatewayInterface2EDGE1']
            - ['CreateGatewayInterface3EDGE1']
            - ['CreateGatewayInterface4EDGE1']
            - ['CreateGatewayInterface5EDGE1']
            - ['CreateGatewayInterface1EDGE2']
            - ['CreateGatewayInterface2EDGE2']
            - ['CreateGatewayInterface1EDGE3']
            - ['CreateGatewayInterface2EDGE3']
            - ['CreateGatewayInterface1EDGE4']
            - ['CreateGatewayInterface2EDGE4']
            - ['CreateGatewayInterface1EXTERNALROUTER']
            - ['CreateGatewayInterface2EXTERNALROUTER']
            - ['CreateGatewayInterface3EXTERNALROUTER']
            - ['CreateGatewayInterface4EXTERNALROUTER']
            - ['CreateGatewayInterface5EXTERNALROUTER']
            - ['Enable_ECMP_EDGE_GATEWAY1']
            - ['Enable_ECMP_EDGE_GATEWAY2']
            - ['Enable_ECMP_EDGE_GATEWAY3']
            - ['Enable_ECMP_EDGE_GATEWAY4']
            - ['Enable_ECMP_EDGE_EXTERNAL_ROUTER']
            - ['Configure_STATICROUTE_VDR']
            - ['Configure_STATICROUTE1_EDGE1']
            - ['Configure_STATICROUTE1_EDGE2']
            - ['Configure_STATICROUTE1_EDGE3']
            - ['Configure_STATICROUTE1_EDGE4']
            - ['Configure_STATICROUTE1_EXTERNALROUTER']
            - ['ShowIPForwarding_VDR']
            - ['ShowIPForwarding_EDGE1_ECMP']
            - ['ShowIPForwarding_EDGE2']
            - ['ShowIPRoute_VDR']
            - ['ShowIPRoute_EDGE1_ECMP']
            - ['ShowIPRoute_EDGE2']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
            - ['Remove_NH1_EDGE1']
            - ['Remove_NH1_EXTERNALROUTER']
            - ['PingVM1andVM3']
            - ['Remove_NH2_EDGE1']
            - ['Remove_NH2_EXTERNALROUTER']
            - ['PingVM1andVM3']
            - ['Remove_NH3_EDGE1']
            - ['Remove_NH3_EXTERNALROUTER']
            - ['PingVM1andVM3_Fail']
            - ['Configure_STATICROUTE1_EDGE1']
            - ['Configure_STATICROUTE1_EXTERNALROUTER']
            - ['PingVM1andVM3']
        ExitSequence:
            - ['RemovevNICFromVM1']
            - ['RemovevNICFromVM2']
            - ['RemovevNICFromVM3']
            - ['DELETE_ALL_EDGE']
            - ['DELETE_ALL_EXTERNAL_EDGE']
            - ['DELETE_VDR_EDGE']
            - ['DeleteVirtualWires']

TestCase2:
    Category: 'Static'
    Component: 'StaticRouting'
    ExpectedResult: 'PASS'
    Summary: 'Verify that multiple static routes can be installed only if we enabled ECMP'
    Tags: 'DynamicRouting,BAT'
    TestName: 'TestCase2'
    Version: '2'
    TestbedSpec: *VDR_TOPOLOGY_01
    WORKLOADS:
        Sequence:
            - ['CreateVirtualWires']
            - ['PlaceVM1OnVwire8','PlaceVM2OnVwire9','PlaceVM3OnDVPG8']
            - ['SetVXLANIPVM1','SetDVPGIPVM3','SetVXLANIPVM2']
            - ['AddVXLANRouteVM1','AddDVPGRouteVM3','AddVXLANRouteVM2']
            - ['Reconfigure_AddDVPGRouteVM3']
            - ['DeployVDR']
            - ['DeployGatewayServicesEDGE1']
            - ['DeployGatewayServicesEDGE2']
            - ['DeployGatewayServicesEDGE3']
            - ['DeployGatewayServicesEDGE4']
            - ['DeployExternalRouter']
            - ['DisableFirewall_VDR']
            - ['DisableFirewall_EDGE1']
            - ['DisableFirewall_EDGE2']
            - ['DisableFirewall_EDGE3']
            - ['DisableFirewall_EDGE4']
            - ['DisableFirewall_EXTERNALROUTER']
            - ['CreateVdrInterface1']
            - ['CreateVdrInterface2']
            - ['CreateGatewayInterface1EDGE1']
            - ['CreateGatewayInterface2EDGE1']
            - ['CreateGatewayInterface3EDGE1']
            - ['CreateGatewayInterface4EDGE1']
            - ['CreateGatewayInterface5EDGE1']
            - ['CreateGatewayInterface1EDGE2']
            - ['CreateGatewayInterface2EDGE2']
            - ['CreateGatewayInterface1EDGE3']
            - ['CreateGatewayInterface2EDGE3']
            - ['CreateGatewayInterface1EDGE4']
            - ['CreateGatewayInterface2EDGE4']
            - ['CreateGatewayInterface1EXTERNALROUTER']
            - ['CreateGatewayInterface2EXTERNALROUTER']
            - ['CreateGatewayInterface3EXTERNALROUTER']
            - ['CreateGatewayInterface4EXTERNALROUTER']
            - ['CreateGatewayInterface5EXTERNALROUTER']
            - ['Enable_ECMP_EDGE_GATEWAY1']
            - ['Enable_ECMP_EDGE_GATEWAY2']
            - ['Enable_ECMP_EDGE_GATEWAY3']
            - ['Enable_ECMP_EDGE_GATEWAY4']
            - ['Enable_ECMP_EDGE_EXTERNAL_ROUTER']
            - ['Configure_STATICROUTE1_EDGE1']
            - ['Configure_STATICROUTE1_EDGE2']
            - ['Configure_STATICROUTE1_EDGE3']
            - ['Configure_STATICROUTE1_EDGE4']
            - ['Configure_STATICROUTE1_EXTERNALROUTER']
            - ['Configure_STATICROUTE_VDR']
            - ['ShowIPRoute_VDR']
            - ['ShowIPForwarding_VDR']
            - ['ShowIPForwarding_EDGE1_ECMP']
            - ['ShowIPForwarding_EDGE2']
            - ['ShowIPRoute_EDGE1_ECMP']
            - ['ShowIPRoute_EDGE2']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
            - ['Remove_NH3_EDGE1']
            - ['Disable_ECMP_EDGE1']
            - ['Configure_STATICROUTE1_EDGE1_Fail']
            - ['Enable_ECMP_EDGE_GATEWAY1']
            - ['Configure_STATICROUTE1_EDGE1']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
        ExitSequence:
            - ['RemovevNICFromVM1']
            - ['RemovevNICFromVM2']
            - ['RemovevNICFromVM3']
            - ['DELETE_ALL_EDGE']
            - ['DELETE_ALL_EXTERNAL_EDGE']
            - ['DELETE_VDR_EDGE']
            - ['DeleteVirtualWires']

TestCase3:
    Category: 'Static'
    Component: 'StaticRouting'
    ExpectedResult: 'PASS'
    Summary: 'Verify that if interface connected to nexthop goes down the route should be removed from the route table..
              Verify that if an  interface  is connected , route should be present in  the route table and ping should be successfully.'
    Tags: 'DynamicRouting,BAT'
    TestName: 'TestCase3'
    Version: '2'
    TestbedSpec: *VDR_TOPOLOGY_01
    WORKLOADS:
        Sequence:
            - ['CreateVirtualWires']
            - ['PlaceVM1OnVwire8','PlaceVM3OnDVPG8','PlaceVM2OnVwire9']
            - ['SetVXLANIPVM1','SetDVPGIPVM3','SetVXLANIPVM2']
            - ['AddVXLANRouteVM1','AddDVPGRouteVM3','AddVXLANRouteVM2','AddDVPGRouteVM3_1']
            - ['DeployVDR']
            - ['DeployGatewayServicesEDGE1']
            - ['DeployExternalRouter']
            - ['DisableFirewall_VDR']
            - ['DisableFirewall_EDGE1']
            - ['DisableFirewall_EXTERNALROUTER']
            - ['CreateVdrInterface1']
            - ['CreateVdrInterface2']
            - ['CreateGatewayInterface1EDGE1']
            - ['ReCreateGatewayInterface3EDGE1']
            - ['CreateGatewayInterface5EDGE1']
            - ['CreateGatewayInterface1EXTERNALROUTER']
            - ['CreateGatewayInterface4EXTERNALROUTER']
            - ['Configure_STATICROUTE_VDR']
            - ['Configure_STATICROUTE1_EDGE1_SINGLE']
            - ['Configure_STATICROUTE1_EXTERNALROUTER_SINGLE']
            - ['ShowIPForwarding_VDR']
            - ['ShowIPForwarding_EDGE1_New']
            - ['ShowIPRoute_VDR']
            - ['ShowIPRoute_EDGE1_Case3']
            - ['CreateService']
            - ['CreateService_EXTERNAL']
            - ['ConfigureFirewall_VDR']
            - ['ConfigureFirewall1_EDGE1']
            - ['ConfigureFirewall1_EXTERNALROUTER']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
            - ['DisableGatewayInterface1EDGE1']
            - ['ShowIPRoute_EDGE1_Disabled']
            - ['PingVM1andVM3_Fail']
            - ['CreateGatewayInterface1EDGE1']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
        ExitSequence:
            - ['RemovevNICFromVM1']
            - ['RemovevNICFromVM2']
            - ['RemovevNICFromVM3']
            - ['DELETE_ALL_EDGE']
            - ['DELETE_ALL_EXTERNAL_EDGE']
            - ['DELETE_VDR_EDGE']
            - ['DeleteVirtualWires']
            - ['DeleteServices']
            - ['DeleteServices_External']

TestCase4:
    Category: 'Static'
    Component: 'StaticRouting'
    ExpectedResult: 'PASS'
    Summary: 'Verify the bidirectional traffic over nexthops.'
    Tags: 'DynamicRouting,BAT'
    TestName: 'TestCase5'
    Version: '2'
    TestbedSpec: *VDR_TOPOLOGY_01
    WORKLOADS:
        Sequence:
            - ['CreateVirtualWires']
            - ['PlaceVM1OnVwire8','PlaceVM3OnDVPG8','PlaceVM2OnVwire9']
            - ['SetVXLANIPVM1','SetDVPGIPVM3','SetVXLANIPVM2']
            - ['AddVXLANRouteVM1','AddDVPGRouteVM3','AddVXLANRouteVM2','AddDVPGRouteVM3_1']
            - ['DeployVDR']
            - ['DeployGatewayServicesEDGE1']
            - ['DeployExternalRouter']
            - ['DisableFirewall_VDR']
            - ['DisableFirewall_EDGE1']
            - ['DisableFirewall_EXTERNALROUTER']
            - ['CreateVdrInterface1']
            - ['CreateVdrInterface2']
            - ['CreateGatewayInterface1EDGE1']
            - ['ReCreateGatewayInterface3EDGE1']
            - ['CreateGatewayInterface5EDGE1']
            - ['CreateGatewayInterface1EXTERNALROUTER']
            - ['CreateGatewayInterface4EXTERNALROUTER']
            - ['Configure_STATICROUTE_VDR']
            - ['Configure_STATICROUTE1_EDGE1_SINGLE']
            - ['Configure_STATICROUTE1_EXTERNALROUTER_SINGLE']
            - ['ShowIPForwarding_VDR']
            - ['ShowIPForwarding_EDGE1_New']
            - ['ShowIPRoute_VDR']
            - ['ShowIPRoute_EDGE1_NEW']
            - ['CreateService']
            - ['CreateService_EXTERNAL']
            - ['ConfigureFirewall_VDR_New']
            - ['ConfigureFirewall1_EDGE1_New']
            - ['ConfigureFirewall1_EXTERNALROUTER_New']
            - ['PingVM2andVM3']
            - ['PingVM1andVM3']
            - ['PingVM1andVM3_Bidir']
        ExitSequence:
            - ['RemovevNICFromVM1']
            - ['RemovevNICFromVM2']
            - ['RemovevNICFromVM3']
            - ['DELETE_ALL_EDGE']
            - ['DELETE_ALL_EXTERNAL_EDGE']
            - ['DELETE_VDR_EDGE']
            - ['DeleteServices']
            - ['DeleteServices_External']
            - ['DeleteVirtualWires']
